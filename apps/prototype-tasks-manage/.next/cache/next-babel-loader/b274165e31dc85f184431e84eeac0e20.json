{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/admin/Documents/GitHub/esence/workos-network-monorepo/apps/prototype-tasks-manage/components/FormSetToken.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\n/* --- Global --- */\nimport { PropTypes } from \"prop-types\";\nimport { useForm } from \"react-hook-form\";\nimport { useMondayUpdateCreateMutation } from \"react-monday\";\nimport { useMondayBoardsQuery } from \"react-monday\";\nimport { withMonday, setToken } from \"react-monday\";\nimport { Box } from \"theme-ui\";\n/**\n * @name FormModalTokenSet\n * @description Set authorization token for Monday Queries\n * @version 0.0.0\n */\n\nvar FormModalTokenSet = function FormModalTokenSet(_ref) {\n  _s();\n\n  var updateDefault = _ref.updateDefault,\n      sx = _ref.sx,\n      props = _objectWithoutProperties(_ref, [\"updateDefault\", \"sx\"]);\n\n  var monday = withMonday();\n  React.useEffect(function () {\n    if (monday.token) {\n      setValue(\"token\", monday.token);\n    }\n  }, []);\n  React.useEffect(function () {\n    console.log(monday, \"mondaymonday\");\n  }, [monday]);\n  /* --- Form Hook State --- */\n\n  var _useForm = useForm(),\n      handleSubmit = _useForm.handleSubmit,\n      register = _useForm.register,\n      errors = _useForm.errors,\n      setValue = _useForm.setValue,\n      formState = _useForm.formState;\n  /* --- Submit Handler --- */\n\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (values) {\n                monday.setToken(values.token);\n              }\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  /* --- Form : Component --- */\n\n\n  return __jsx(Box, {\n    as: \"form\",\n    onSubmit: handleSubmit(onSubmit),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, __jsx(Box, {\n    as: \"input\",\n    name: \"token\",\n    placeholder: \"Token\",\n    register: register,\n    errors: errors,\n    sx: {},\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), __jsx(Box, {\n    as: \"button\",\n    sx: {\n      bg: \"blue\",\n      color: \"white\",\n      mt: 3,\n      width: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, formState.isSubmitting & !formState.isSubmitted ? __jsx(Box, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, props.labelLoading) : __jsx(Box, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, props.label), !formState.isSubmitting & formState.isSubmitted && __jsx(Box, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, props.labelComplete)));\n};\n\n_s(FormModalTokenSet, \"WPXNucc/KXGyYNDLxRVBPOeVzjI=\", false, function () {\n  return [useForm];\n});\n\n_c = FormModalTokenSet;\nFormModalTokenSet.defaultProps = {\n  sx: {},\n  label: \"Submit\",\n  labelLoading: \"Loading...\",\n  labelComplete: \"Complete\"\n};\nFormModalTokenSet.propTypes = {\n  sx: PropTypes.object\n};\nexport default FormModalTokenSet;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormModalTokenSet\");","map":{"version":3,"sources":["/Users/admin/Documents/GitHub/esence/workos-network-monorepo/apps/prototype-tasks-manage/components/FormSetToken.jsx"],"names":["PropTypes","useForm","useMondayUpdateCreateMutation","useMondayBoardsQuery","withMonday","setToken","Box","FormModalTokenSet","updateDefault","sx","props","monday","React","useEffect","token","setValue","console","log","handleSubmit","register","errors","formState","onSubmit","values","bg","color","mt","width","isSubmitting","isSubmitted","labelLoading","label","labelComplete","defaultProps","propTypes","object"],"mappings":"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","sourcesContent":["/* --- Global --- */\nimport { PropTypes } from \"prop-types\";\nimport { useForm } from \"react-hook-form\";\nimport { useMondayUpdateCreateMutation } from \"react-monday\";\nimport { useMondayBoardsQuery } from \"react-monday\";\nimport { withMonday, setToken } from \"react-monday\";\nimport { Box } from \"theme-ui\";\n\n/**\n * @name FormModalTokenSet\n * @description Set authorization token for Monday Queries\n * @version 0.0.0\n */\n\nconst FormModalTokenSet = ({ updateDefault, sx, ...props }) => {\n  const monday = withMonday();\n\n  React.useEffect(() => {\n    if (monday.token) {\n      setValue(\"token\", monday.token);\n    }\n  }, []);\n  React.useEffect(() => {\n    console.log(monday, \"mondaymonday\");\n  }, [monday]);\n\n  /* --- Form Hook State --- */\n  const { handleSubmit, register, errors, setValue, formState } = useForm();\n\n  /* --- Submit Handler --- */\n  const onSubmit = async (values) => {\n    if (values) {\n      monday.setToken(values.token);\n    }\n  };\n\n  /* --- Form : Component --- */\n  return (\n    <Box as=\"form\" onSubmit={handleSubmit(onSubmit)}>\n      <Box\n        as=\"input\"\n        name=\"token\"\n        placeholder=\"Token\"\n        register={register}\n        errors={errors}\n        sx={{}}\n      />\n      <Box\n        as=\"button\"\n        sx={{ bg: \"blue\", color: \"white\", mt: 3, width: \"100%\" }}\n      >\n        {formState.isSubmitting & !formState.isSubmitted ? (\n          <Box>{props.labelLoading}</Box>\n        ) : (\n          <Box>{props.label}</Box>\n        )}\n\n        {!formState.isSubmitting & formState.isSubmitted && (\n          <Box>{props.labelComplete}</Box>\n        )}\n      </Box>\n    </Box>\n  );\n};\n\nFormModalTokenSet.defaultProps = {\n  sx: {},\n  label: \"Submit\",\n  labelLoading: \"Loading...\",\n  labelComplete: \"Complete\",\n};\n\nFormModalTokenSet.propTypes = {\n  sx: PropTypes.object,\n};\n\nexport default FormModalTokenSet;\n"]},"metadata":{},"sourceType":"module"}